# 快速测试清单

## 🚀 启动服务

### 1. 启动后端
```bash
cd packages/backend
npm run dev
```
等待看到：`Server running on port 3001`

### 2. 启动前端
```bash
cd packages/frontend
npm run dev
```
等待看到：`Ready on http://localhost:3000`

## ✅ 测试步骤

### 步骤1：访问页面
打开浏览器：http://localhost:3000/workflows/new

### 步骤2：连接钱包
- 点击右上角"Connect Wallet"
- 连接MetaMask

### 步骤3：添加Agent
- 点击"+ Add Agent"
- 选择Category（如WORK）
- 选择Type（如"网页抓取器"）

### 步骤4：配置Agent ⭐ **关键测试**
- 在Agent卡片上找到"⚙️ Configure"按钮
- 点击按钮
- **应该看到配置面板弹出**

### 步骤5：测试配置面板
- [ ] 看到表单字段（名称、描述、URL等）
- [ ] 必填字段有红色星号(*)
- [ ] 留空必填字段，点击保存，看到错误提示
- [ ] 填写正确的值，看到绿色边框
- [ ] 点击保存，配置面板关闭

## 🎯 成功标准

如果你看到以下内容，说明成功了：

✅ Agent卡片上有"⚙️ Configure"按钮
✅ 点击后弹出配置面板
✅ 配置面板显示动态生成的表单
✅ 表单字段根据Agent类型不同而不同
✅ 验证工作正常（红色/绿色边框）
✅ 可以保存配置

## ❌ 如果失败

### 问题1：没有Configure按钮
**检查：**
- 浏览器控制台是否有错误
- 确认使用的是正确的文件（pages/workflows/new.tsx）
- 清除浏览器缓存

### 问题2：点击Configure没反应
**检查：**
- 浏览器控制台错误
- Network标签查看API请求
- 确认后端正在运行

### 问题3：配置面板空白
**检查：**
- 浏览器控制台错误
- 检查API返回的configSchema
- 查看React DevTools

## 📸 预期效果

### Agent卡片
```
┌─────────────────────────────────────┐
│ 1. 网页抓取器                        │
│    work.web_scraper                 │
│ [WORK]                              │
│                                     │
│ ↑ ↓ ⚙️Configure Change Remove      │
└─────────────────────────────────────┘
```

### 配置面板
```
┌─────────────────────────────────────┐
│ Agent配置         网页抓取器    [X] │
├─────────────────────────────────────┤
│ 基本配置                             │
│                                     │
│ 名称 *                              │
│ [________________]                  │
│                                     │
│ 目标URL *                           │
│ [________________]                  │
│ 请输入要抓取的网页地址               │
│                                     │
├─────────────────────────────────────┤
│ [重置]              [取消] [保存]   │
└─────────────────────────────────────┘
```

## 🐛 调试命令

### 检查后端API
```bash
curl http://localhost:3001/api/agent-types/work.web_scraper | jq
```

### 检查前端编译
```bash
cd packages/frontend
npm run build
```

### 查看日志
- 后端：终端1的输出
- 前端：终端2的输出
- 浏览器：开发者工具 → Console

## 📝 测试结果

测试完成后，请记录：

- [ ] Configure按钮是否显示
- [ ] 配置面板是否打开
- [ ] 表单字段是否正确
- [ ] 验证是否工作
- [ ] 保存是否成功

如果全部通过，Phase 1 MVP成功！🎉

如果有问题，请记录：
- 错误消息
- 浏览器控制台输出
- 网络请求详情

