# Agent类型架构明确化和UI改进需求文档

## 介绍

本项目需要明确Agent Type和Agent Category之间的关系，并改进Agent创建UI，使用户能够通过选择而非输入的方式创建Agent，同时提供No-Code配置面板。

## Agent架构说明

### 当前架构分析

**Agent Category（Agent分类）**：
- 这是Agent的**顶层分类**，共有4种：
  - `WORK` - 数据收集类Agent
  - `PROCESS` - 数据处理类Agent
  - `PUBLISH` - 内容发布类Agent
  - `VALIDATE` - 验证监控类Agent

**Agent Type（Agent类型）**：
- 这是**具体的Agent实现**，是Category下的子类型
- 命名格式：`category.type_name`
- 例如：
  - `work.web_scraper` - Web抓取器（属于WORK类别）
  - `work.api_collector` - API收集器（属于WORK类别）
  - `process.content_generator` - 内容生成器（属于PROCESS类别）
  - `publish.twitter` - Twitter发布器（属于PUBLISH类别）

**关系说明**：
```
Category (分类)
  └── Type (具体类型)
       └── Instance (实例)

示例：
WORK (Category)
  ├── web_scraper (Type)
  │    ├── "我的网页抓取器1" (Instance)
  │    └── "我的网页抓取器2" (Instance)
  ├── api_collector (Type)
  │    └── "GitHub API收集器" (Instance)
  └── social_media (Type)
       └── "Twitter数据收集器" (Instance)
```

## 需求

### 需求1：明确Agent类型层级关系

**用户故事：** 作为平台用户，我希望清楚地理解Agent的分类体系，知道Category和Type的区别和关系，以便正确选择和创建Agent。

#### 验收标准

1. 当用户查看Agent列表时，系统应清晰显示Category和Type的层级关系
2. 当用户创建Agent时，系统应先让用户选择Category，再选择该Category下的Type
3. 当显示Agent信息时，系统应同时显示Category标签和Type名称
4. 当用户筛选Agent时，系统应支持按Category和Type两级筛选
5. 当用户查看Agent详情时，系统应显示完整的分类路径（Category > Type > Instance Name）
6. 如果用户对分类不理解，系统应提供清晰的说明和示例

### 需求2：改进Agent创建流程为选择式

**用户故事：** 作为平台用户，我希望通过选择预定义的Agent类型来创建Agent，而不是手动输入类型名称，以避免输入错误并了解可用选项。

#### 验收标准

1. 当用户点击"创建Agent"时，系统应显示Category选择界面
2. 当用户选择Category后，系统应显示该Category下所有可用的Type选项
3. 当显示Type选项时，系统应包含类型图标、名称、描述和复杂度标签
4. 当用户选择Type后，系统应显示该Type的详细信息和配置选项
5. 当用户确认选择时，系统应进入配置阶段，不再需要手动输入类型名称
6. 如果某个Type暂不可用，系统应显示"即将推出"标签并禁用选择

### 需求3：实现No-Code Agent配置面板

**用户故事：** 作为非技术用户，我希望通过可视化的配置面板来设置Agent参数，而不需要编写代码或JSON配置，以便快速创建和部署Agent。

#### 验收标准

1. 当用户选择Agent Type后，系统应显示该Type专属的配置面板
2. 当配置面板显示时，系统应根据Agent Type动态生成表单字段
3. 当用户填写配置时，系统应提供智能提示、默认值和示例
4. 当配置项有依赖关系时，系统应动态显示/隐藏相关字段
5. 当用户完成配置时，系统应实时验证并显示错误提示
6. 如果用户需要高级配置，系统应提供"切换到代码模式"选项

### 需求4：Agent Type模板库展示

**用户故事：** 作为平台用户，我希望浏览所有可用的Agent Type模板，了解每种类型的功能、用途和配置要求，以便选择最适合我需求的Agent。

#### 验收标准

1. 当用户访问Agent创建页面时，系统应显示Agent Type模板库
2. 当显示模板库时，系统应按Category分组展示所有Type
3. 当显示每个Type时，系统应包含图标、名称、描述、复杂度、功能特性列表
4. 当用户点击Type卡片时，系统应显示详细信息模态框
5. 当显示详细信息时，系统应包含使用场景、配置示例、依赖要求
6. 如果用户想要快速开始，系统应提供"使用此模板"按钮

### 需求5：可视化Category-Type关系图

**用户故事：** 作为新用户，我希望看到Agent分类体系的可视化展示，理解不同Category和Type之间的关系和工作流程，以便更好地规划我的自动化方案。

#### 验收标准

1. 当用户首次访问Agent页面时，系统应显示分类体系引导
2. 当显示引导时，系统应使用树形图或卡片布局展示Category-Type关系
3. 当用户点击Category时，系统应展开显示该Category下的所有Type
4. 当用户点击Type时，系统应显示该Type的详细说明和使用示例
5. 当显示工作流程时，系统应说明不同Category的Agent如何协同工作
6. 如果用户想跳过引导，系统应提供"不再显示"选项

### 需求6：智能Agent推荐

**用户故事：** 作为平台用户，我希望系统能根据我的使用场景推荐合适的Agent Type组合，以便快速构建完整的自动化工作流。

#### 验收标准

1. 当用户描述使用场景时，系统应分析并推荐相关的Agent Type
2. 当推荐Agent时，系统应说明推荐理由和预期效果
3. 当显示推荐结果时，系统应按工作流顺序排列（Work → Process → Publish → Validate）
4. 当用户接受推荐时，系统应自动创建推荐的Agent组合
5. 当用户修改推荐时，系统应支持添加、删除或替换Agent
6. 如果推荐不准确，系统应允许用户提供反馈以改进推荐算法

### 需求7：Agent配置预设和模板

**用户故事：** 作为平台用户，我希望使用预设的配置模板来快速创建常见场景的Agent，而不需要从零开始配置每个参数。

#### 验收标准

1. 当用户选择Agent Type后，系统应显示可用的配置预设列表
2. 当显示预设时，系统应包含预设名称、描述、适用场景
3. 当用户选择预设时，系统应自动填充所有配置参数
4. 当用户修改预设配置时，系统应允许保存为新的自定义预设
5. 当用户创建自定义预设时，系统应支持分享给团队成员
6. 如果预设配置过时，系统应提示用户更新或使用新版本

### 需求8：实时配置预览和测试

**用户故事：** 作为平台用户，我希望在保存Agent配置前能够预览和测试配置效果，确保Agent能够按预期工作。

#### 验收标准

1. 当用户配置Agent时，系统应提供"预览"按钮
2. 当用户点击预览时，系统应显示配置的可视化表示
3. 当用户想要测试时，系统应提供"测试运行"功能
4. 当执行测试运行时，系统应使用沙箱环境避免影响生产数据
5. 当测试完成时，系统应显示执行结果、日志和性能指标
6. 如果测试失败，系统应提供详细的错误信息和修复建议

### 需求9：Agent配置向导

**用户故事：** 作为新用户，我希望通过分步向导来配置Agent，每次只关注一个配置方面，降低配置复杂度。

#### 验收标准

1. 当用户选择使用向导时，系统应显示多步骤配置流程
2. 当显示每一步时，系统应只显示相关的配置选项
3. 当用户完成一步时，系统应验证输入并允许进入下一步
4. 当用户想要返回时，系统应保留已填写的配置
5. 当显示进度时，系统应清晰标识当前步骤和剩余步骤
6. 如果用户想要跳过向导，系统应提供"高级模式"切换选项

### 需求10：Agent Type文档和示例

**用户故事：** 作为开发者，我希望查看每种Agent Type的详细文档和代码示例，了解如何正确配置和使用Agent。

#### 验收标准

1. 当用户查看Agent Type详情时，系统应提供"查看文档"链接
2. 当打开文档时，系统应显示Type的完整API文档
3. 当显示文档时，系统应包含配置参数说明、类型定义、默认值
4. 当用户需要示例时，系统应提供多个实际使用场景的代码示例
5. 当用户复制示例时，系统应提供一键复制功能
6. 如果文档有更新，系统应显示更新日志和迁移指南
